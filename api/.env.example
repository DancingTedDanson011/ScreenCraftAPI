# ============================================
# ScreenCraft API - Environment Configuration
# ============================================

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# ============================================
# Database (PostgreSQL)
# ============================================
# Docker: Use service name 'postgres'
# Local: Use 'localhost'
DATABASE_URL=postgresql://screencraft:screencraft_dev_password@postgres:5432/screencraft

# ============================================
# Redis Cache & Queue
# ============================================
# Docker: Use service name 'redis'
# Local: Use 'localhost'
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# MinIO / S3 Object Storage
# ============================================
# Docker: Use service name 'minio'
# Local: Use 'localhost'
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET=screenshots
MINIO_USE_SSL=false
MINIO_REGION=eu-central-1

# ============================================
# API Configuration
# ============================================
# Rate Limiting
API_RATE_LIMIT_MAX=100
API_RATE_LIMIT_WINDOW=15m

# CORS - Allowed Origins (comma-separated)
CORS_ORIGIN=http://localhost:4321,http://localhost:3001,http://localhost:5173

# ============================================
# Authentication
# ============================================
# JWT Secret (min 32 characters for production!)
JWT_SECRET=dev_secret_key_change_in_production_min_32_chars
JWT_EXPIRES_IN=7d

# ============================================
# Google OAuth 2.0
# ============================================
# Get your credentials from: https://console.cloud.google.com/apis/credentials
# 1. Create a new OAuth 2.0 Client ID
# 2. Application type: Web application
# 3. Authorized redirect URIs: http://localhost:3000/api/v1/auth/google/callback
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

# ============================================
# Session Configuration
# ============================================
# Secret for signing cookies (min 32 characters for production!)
SESSION_SECRET=generate-a-secure-random-string-at-least-32-chars

# ============================================
# Playwright Browser Configuration
# ============================================
# Timeouts in milliseconds
PLAYWRIGHT_TIMEOUT=30000
PLAYWRIGHT_NAVIGATION_TIMEOUT=30000

# Browser Pool Configuration
MAX_CONCURRENT_BROWSERS=5

# Browser Launch Options
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_ARGS=--disable-dev-shm-usage,--no-sandbox

# ============================================
# Storage Configuration
# ============================================
# Storage type: 'minio' or 'local'
STORAGE_TYPE=minio

# Local storage path (used if STORAGE_TYPE=local)
STORAGE_PATH=./uploads

# ============================================
# Logging
# ============================================
LOG_LEVEL=debug
LOG_PRETTY=true

# ============================================
# Development Helpers
# ============================================
# Enable detailed error messages
SHOW_STACK_TRACES=true

# Enable request/response logging
LOG_REQUESTS=true

# ============================================
# Stripe Payment Integration
# ============================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs for each tier (create in Stripe Dashboard)
STRIPE_PRICE_PRO=price_1234567890_pro_monthly
STRIPE_PRICE_BUSINESS=price_1234567890_business_monthly
STRIPE_PRICE_ENTERPRISE=price_1234567890_enterprise_monthly

# Redirect URLs after checkout
STRIPE_SUCCESS_URL=http://localhost:3000/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/billing/cancel

# ============================================
# RapidAPI Integration
# ============================================
# Enable RapidAPI support
RAPIDAPI_ENABLED=false

# Proxy secret from RapidAPI dashboard
# Get this from: https://rapidapi.com/provider/dashboard
RAPIDAPI_PROXY_SECRET=your_rapidapi_proxy_secret_here

# ============================================
# Admin Terminal (Overwatch)
# ============================================
# Enable admin terminal
ADMIN_ENABLED=true

# JWT secret for admin authentication (CHANGE IN PRODUCTION!)
ADMIN_JWT_SECRET=change_this_to_a_secure_random_string_min_32_chars
ADMIN_JWT_EXPIRES_IN=8h

# ============================================
# Email Service (Resend)
# ============================================
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxx

# From address (must be verified in Resend dashboard)
EMAIL_FROM=ScreenCraft <noreply@screencraft.dev>

# Admin email for contact form notifications
ADMIN_EMAIL=team@screencraft.dev

# Frontend URL for email links (newsletter confirm/unsubscribe)
FRONTEND_URL=http://localhost:4321

# ============================================
# Optional: Legacy SMTP Configuration
# ============================================
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM=ScreenCraft Dev <noreply@screencraft.local>

# ============================================
# Docker Quick Reference
# ============================================
# Development (Local):
# DATABASE_URL=postgresql://screencraft:screencraft_dev_password@localhost:5432/screencraft
# REDIS_HOST=localhost
# MINIO_ENDPOINT=localhost
#
# Production (Docker):
# DATABASE_URL=postgresql://screencraft:${POSTGRES_PASSWORD}@postgres:5432/screencraft
# REDIS_HOST=redis
# REDIS_PASSWORD=${REDIS_PASSWORD}
# MINIO_ENDPOINT=minio
# MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
# MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}
